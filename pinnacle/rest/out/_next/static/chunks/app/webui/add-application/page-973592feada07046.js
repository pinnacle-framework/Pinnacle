(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5834],{69386:function(e,l,i){Promise.resolve().then(i.bind(i,99205))},99205:function(e,l,i){"use strict";i.r(l),i.d(l,{default:function(){return eN}});var a=i(27573),o=i(7653),n=i(13908),s=i(63052),r=i(97747),t=i(81695),d=i(22392);i(40020),i(19234),i(83346);var v=i(88146),c=i(93296),u=i(412),m=i(87191),h=i(24776),p=i(36531),x=i(7109),b=i(63612);function f(){(0,u.v9)(e=>e.environment.environmentLoadedValues);let e=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),l=(0,t.useRouter)(),i=(0,u.v9)(e=>e.stack.stackUpdateByIndex),n=(0,u.v9)(e=>e.stack.submittedStack),[s,r]=(0,o.useState)(null),[d,f]=(0,o.useState)(!1),[N,g]=(0,o.useState)(!1),[j,_]=(0,o.useState)(null);function y(){if(!n){c.ZP.error("Error adding application",{id:"form-error"});return}let i=(0,b.Z)();setTimeout(()=>{N||l.push("/webui/add-application?id=".concat(i),void 0,{shallow:!0})},1e3),c.ZP.loading("Adding application...",{id:"adding"});try{fetch("".concat("".concat("http://localhost:8000","/db/apply?id=").concat(i)),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:(0,x.Z)(e),pinnacle_reverse_proxy:"http://localhost:8000"},body:JSON.stringify(n,null,"	")}).then(e=>{if(!e.ok){if(500===e.status)return e.json().then(e=>{throw console.log("Error response data:",e),_(e),Error("Server error")});throw Error("Network response was not ok")}return e.json()}).then(e=>{c.ZP.dismiss("adding"),console.log("Data from:",e),c.ZP.success("Application added successfully"),setTimeout(()=>{N||l.push("/webui/add-application?id=".concat(i),void 0,{shallow:!0})},1e3)}).catch(e=>{g(!0),console.error("Error fetching API data",e),c.ZP.error("Error adding application",{id:"form-error"}),c.ZP.dismiss("adding")})}catch(e){c.ZP.dismiss("adding"),g(!0),c.ZP.error("Error adding application",{id:"form-error"})}}return i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,a.jsx)(v.default,{href:"/webui/add-application",children:(0,a.jsx)("button",{type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault,f(!0)},className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Add Application"})]}),(0,a.jsx)("br",{}),(0,a.jsx)(h.Vq,{open:d,onOpenChange:()=>f(!1),children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Review the application"}),(0,a.jsx)(h.Be,{children:"This will be added to the database. Please review the application before confirming."})]}),n?(0,a.jsx)(m.Z,{data:n}):"Preparing application...",(0,a.jsx)(h.cN,{children:(0,a.jsx)(p.z,{type:"submit",onClick:()=>{y()},children:"Save changes"})})]})}),(0,a.jsx)(h.Vq,{open:N,onOpenChange:()=>{f(!1),g(!1)},children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Failed Adding Application"}),(0,a.jsx)(h.Be,{children:"Please review the error message and try again."})]}),(0,a.jsx)("strong",{children:"Error Message"}),j?(0,a.jsx)(m.Z,{data:j,height:100}):"Loading ...",(0,a.jsx)("strong",{children:"Submitted"}),n?(0,a.jsx)(m.Z,{data:n,height:"150px"}):"Preparing application...",(0,a.jsx)(h.cN,{children:(0,a.jsx)(p.z,{onClick:()=>{y()},children:"Retry now"})})]})})]}):null}var N=i(24017),g=i(1070),j=i(91894);function _(e,l){if(!e||"object"!=typeof e)return{};let i={};for(let[r,t]of Object.entries(e))if("string"==typeof t){if(l&&t in l){var a,o,n,s;(null==l?void 0:null===(a=l[t])||void 0===a?void 0:a.type)==="complex"?i[r]={type:t,sequence:(null==l?void 0:null===(o=l[t])||void 0===o?void 0:o.sequence)||!1,optional:(null==l?void 0:null===(n=l[t])||void 0===n?void 0:n.optional)||!1,default:(null==l?void 0:null===(s=l[t])||void 0===s?void 0:s.default)||null}:i[r]=l[t]}else i[r]={type:t}}else i[r]=t;return console.log("transformWithTrueType Result:",i),i}function y(e){return e&&"object"==typeof e?Object.keys(e).map(l=>({_variableName:l,...e[l]})):[]}let w=e=>{if(!e)return e;let l=y(_(null==e?void 0:e.schema,null==e?void 0:e.types)).reduce((e,l)=>((null==l?void 0:l.default)&&(e[null==l?void 0:l._variableName]=l.default),e),{});return{...e,_variables:{...null==e?void 0:e._variables,...l}}};function S(e){let{simple:l=!1}=e,i=(0,u.v9)(e=>e.stack.submittedStack),v=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.stack)||void 0===l?void 0:l.stackSelectedTemplate});(0,u.v9)(e=>e.environment.environmentLoadedValues);let m=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),h=(0,u.I0)(),p=(0,t.useRouter)(),[b,_]=(0,o.useState)("{}"),[y,S]=(0,o.useState)(""),k=async e=>{let l=e.target.files[0];if(l){if("application/json"===l.type){let e=c.ZP.loading("Loading JSON file..."),i=new FileReader;i.onload=l=>{try{let i=JSON.parse(l.target.result);S(JSON.stringify(i,null,2)),_(JSON.stringify(i,null,2)),h((0,N.q7)(i)),c.ZP.success("JSON file loaded successfully!",{id:e})}catch(l){S("Invalid JSON file."),_("Invalid JSON file."),c.ZP.error("Failed to load JSON file.",{id:e})}},i.readAsText(l)}else if("application/zip"===l.type||l.name.endsWith(".zip")){let e=c.ZP.loading("Uploading ZIP file..."),o=new FormData;o.append("raw",l,l.name);try{var i,a;let l=await n.Z.put("".concat("".concat("http://localhost:8000","/db/upload")),o,{headers:{"Content-Type":"multipart/form-data",accept:"application/json",Authorization:(0,x.Z)(m),pinnacle_reverse_proxy:"http://localhost:8000"}}),s=JSON.parse(JSON.stringify(null==l?void 0:null===(i=l.data)||void 0===i?void 0:i.component));h((0,g.Xs)([...null==l?void 0:null===(a=l.data)||void 0===a?void 0:a.artifacts])),S(JSON.stringify(s,null,2)),_(JSON.stringify(s,null,2)),h((0,N.q7)(s)),c.ZP.success("ZIP file uploaded successfully!",{id:e})}catch(l){c.ZP.error((null==l?void 0:l.message)||"Failed to upload ZIP file.",{id:e,duration:1e4}),console.log("Error uploading ZIP file:",l)}}else S("Please upload a valid JSON or ZIP file."),c.ZP.error("Invalid file type.")}else S("No file selected."),c.ZP.error("No file selected.")},A=(0,o.useRef)(null),Z=()=>{p.push("/webui/add-application",void 0,{shallow:!0}),h((0,N.v$)("")),S(""),_(""),h((0,N.q7)(""))};(0,o.useEffect)(()=>{let e=()=>{console.log("Error fetching Services API data. Please check your connection.")};(async()=>{try{let e=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=template")),{headers:{Accept:"application/json",Authorization:(0,x.Z)(m),pinnacle_reverse_proxy:"http://localhost:8000"}});P([...e.data])}catch(l){e()}})()},[]);let[C,P]=(0,o.useState)(["No template added yet"]);return(0,a.jsxs)(a.Fragment,{children:[!l&&(0,a.jsxs)("div",{className:"max-w-3xl",children:[(0,a.jsxs)(r._,{htmlFor:"terms",children:["Select a template"," ",v&&(0,a.jsx)("span",{onClick:Z,className:"bg-transparent border-none text-indigo-500 cursor-pointer p-0",children:"(Remove Selection)"})]}),(0,a.jsxs)(s.Ph,{value:v,onValueChange:e=>{l||Z(),h((0,N.v$)(e));let i=()=>{c.ZP.error("Error fetching template API data. Please check your connection. ");let e={error:"Error fetching template API data. No template information found!"};S(JSON.stringify(e,null,2)),_(JSON.stringify(e,null,2)),h((0,N.q7)(e)),console.log("Error fetching template API data. Please check your connection. So returning to fallback data!")};(async()=>{try{let l=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show_template?identifier=").concat(e)),{headers:{Accept:"application/json",Authorization:(0,x.Z)(m),pinnacle_reverse_proxy:"http://localhost:8000"}});console.log("/webui/restapi/db/show_template?identifier=".concat(e),l.data),h((0,N.q7)(w(l.data)))}catch(e){i()}})()},children:[(0,a.jsx)(s.i4,{className:"w-3/6 mt-2 mb-2",children:(0,a.jsx)(s.ki,{placeholder:"Select a template to populate the JSON field"})}),(0,a.jsx)(s.Bw,{children:(0,a.jsxs)(s.DI,{children:[(0,a.jsx)(s.n5,{children:"Select a template for populating"}),C&&C.map((e,l)=>(0,a.jsx)(s.Ql,{value:e,children:e},l))]})})]})]}),!l&&(0,a.jsx)("br",{}),!l&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center my-4",children:[(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,a.jsx)("span",{className:"mx-4 text-gray-500 dark:text-gray-400",children:"OR"}),(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,a.jsxs)("div",{className:"border-gray-900/10 pb-2",children:[(0,a.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Upload your template json file"}),(0,a.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"You can type or upload a JSON file here to automatically fill in the JSON field."})]})]}),(0,a.jsx)("div",{className:"mt-2 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:(0,a.jsxs)("div",{className:"sm:col-span-3",children:[(0,a.jsx)(d.default,{ref:A,className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Add your JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{_(e);try{let l=JSON.parse(e);h((0,N.q7)(l))}catch(e){}},fontSize:13,showPrintMargin:!0,showGutter:!1,highlightActiveLine:!0,value:i?JSON.stringify(i,null,2):b,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:"500px",width:"200%"}),(0,a.jsx)("input",{type:"file",accept:".json,.zip",className:"block mt-2 w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:k}),(0,a.jsx)("p",{className:"text-xs pl-2 text-muted-foreground",children:"*You can upload a json file to populate the json field. Or you can upload a zip file."})]})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(j.Z,{}),!l&&(0,a.jsx)(f,{})]})}var k=i(1930),A=i(4216),Z=i(46346),C=i(18580);let P=e=>{let{textAreaRef:l,triggerAutoSize:i,maxHeight:a=Number.MAX_SAFE_INTEGER,minHeight:n=0}=e,[s,r]=o.useState(!0);o.useEffect(()=>{let e=l.current;if(e){s&&(e.style.minHeight="".concat(n+2,"px"),a>n&&(e.style.maxHeight="".concat(a,"px")),r(!1)),e.style.height="".concat(n+2,"px");let l=e.scrollHeight;l>a?e.style.height="".concat(a,"px"):e.style.height="".concat(l+2,"px")}},[l.current,i])},F=o.forwardRef((e,l)=>{let{maxHeight:i=Number.MAX_SAFE_INTEGER,minHeight:n=52,className:s,onChange:r,value:t,...d}=e,v=o.useRef(null),[c,u]=o.useState("");return P({textAreaRef:v,triggerAutoSize:c,maxHeight:i,minHeight:n}),(0,o.useImperativeHandle)(l,()=>({textArea:v.current,focus:()=>{var e;return null==v?void 0:null===(e=v.current)||void 0===e?void 0:e.focus()},maxHeight:i,minHeight:n})),o.useEffect(()=>{u(t)},[null==d?void 0:d.defaultValue,t]),(0,a.jsx)("textarea",{...d,value:t,ref:v,className:(0,C.cn)("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),onChange:e=>{u(e.target.value),null==r||r(e)}})});F.displayName="AutosizeTextarea";var E=i(32041);let O=o.forwardRef((e,l)=>{let{className:i,orientation:o="horizontal",decorative:n=!0,...s}=e;return(0,a.jsx)(E.f,{ref:l,decorative:n,orientation:o,className:(0,C.cn)("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",i),...s})});O.displayName=E.f.displayName;var q=i(80923),T=i(34209),I=i(2187),L=i(23611);i(98295),i(78187),i(39166);var z=i(30897),J=i(46065),R=i(72513),D=i(12900);function B(e,l){let i=l.replace("$","").split("."),a=e;for(let e of i)if(Array.isArray(a))a=a.map(l=>l[e]);else{if(!a||"object"!=typeof a)return[];a=a[e]}return Array.isArray(a)?a:[]}function V(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];return l.filter(Boolean).join(" ")}function G(e,l){return"code"===e?"code":"text-area"===e?"text-area":"str"===e||"string"===e?l?"select":"str":"multi-str"===e?"multi-str":"int"===e?l?"select":"int":"json"===e||"query"==e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e?"multi-select":"multi-checkbox"===e?"multi-checkbox":"complex"===e?"complex":"not_found_type"}function M(e){return e.some(e=>!0===e.optional)}var U=function(e){var l,i,n;let{complexField:t}=e,v=(0,u.I0)(),m=(0,u.v9)(e=>e.stack.submittedStack),[h,p]=(0,o.useState)(0),[x,b]=(0,o.useState)(!0),f=(e,l)=>{var i;v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:e.target.value}}})),p(e=>e+1)},g=(e,l)=>{var i,a,o;let{target:n}=e,s=null==n?void 0:n.value;if(!s)return;let r=null==t?void 0:t._variableName,d=(null==m?void 0:null===(a=m._variables)||void 0===a?void 0:null===(i=a[r])||void 0===i?void 0:i[l])||[];if(!Array.isArray(d)){console.error("Existing field value is not an array:",d);return}v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[r]:{...null==m?void 0:null===(o=m._variables)||void 0===o?void 0:o[r],[l]:[...d,s]}}})),p(e=>e+1)},j=(e,l)=>{var i,a,o,n,s;v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:Array.isArray(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(a=o[null==t?void 0:t._variableName])||void 0===a?void 0:a[l])?null==m?void 0:null===(s=m._variables)||void 0===s?void 0:null===(n=s[null==t?void 0:t._variableName])||void 0===n?void 0:n[l].filter((l,i)=>i!==e):[]}}})),p(e=>e+1)},w=(e,l,i)=>{var a,o,n;let s=null==t?void 0:t._variableName,r=(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(a=o[null==t?void 0:t._variableName])||void 0===a?void 0:a[null==i?void 0:i._variableName])||[];if(!Array.isArray(r)){console.error('Expected an array for field "'.concat(null==i?void 0:i._variableName,'", but got:'),r);return}let d=l?[...r,e]:r.filter(l=>l!==e);v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[s]:{...null==m?void 0:null===(n=m._variables)||void 0===n?void 0:n[s],[null==i?void 0:i._variableName]:d}}})),p(e=>e+1)},S=(e,l)=>{var i;v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:!e}}})),p(e=>e+1)},C=(e,l)=>{let i=e.target.value;try{let e=parseInt(i,10);if(isNaN(e))c.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"});else{var a;v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(a=m._variables)||void 0===a?void 0:a[null==t?void 0:t._variableName],[l]:e}}})),p(e=>e+1)}}catch(e){console.error("Error:",e),c.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"})}},P=(e,l)=>{var i;v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:e}}})),p(e=>e+1)},E=e=>()=>{var l,i,a;v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(l=m._variables)||void 0===l?void 0:l[null==t?void 0:t._variableName],[e]:(parseInt(null==m?void 0:null===(a=m._variables)||void 0===a?void 0:null===(i=a[null==t?void 0:t._variableName])||void 0===i?void 0:i[e])||0)+1}}})),p(e=>e+1)},J=e=>()=>{var l;v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(l=m._variables)||void 0===l?void 0:l[null==t?void 0:t._variableName],[e]:(parseInt(null==m?void 0:m._variables[null==t?void 0:t._variableName][e])||0)-1}}})),p(e=>e+1)},R=e=>null!=e&&!!e.optional&&!!x,D=(e,l)=>{var i,a;try{let a;""===e?a={}:"string"==typeof e?(a=JSON.parse(e),JSON.stringify(a,null,2)):a={},console.log("Parsed JSON:",a),v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:a}}}))}catch(i){console.error("Error parsing JSON:",i),v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(a=m._variables)||void 0===a?void 0:a[null==t?void 0:t._variableName],[l]:e}}}))}},U=(e,l)=>{try{var i;v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:e}}}))}catch(i){console.error("Error parsing JSON:",i),v((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[l]:e}}))}};return m?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mt-4 mb-2 pt-4 rounded-2xl border-4 border-dashed border-gray-900/25 px-6 py-10",children:[(0,a.jsx)("div",{className:"space-y-12",children:(0,a.jsx)("div",{className:"pb-2",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsx)("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:(0,a.jsxs)(r._,{className:"text-xl",htmlFor:null==t?void 0:t._variableName,children:[null==t?void 0:t._variableName," ",(null==t?void 0:t.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]})})})})}),(0,a.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(null==m?void 0:m.schema)&&y(_(null==m?void 0:null===(l=m.types)||void 0===l?void 0:l[null==t?void 0:t.type],null==m?void 0:m.types)).map(e=>{var l,i,n,v,c,u,h,p,x,b,N,_,y,M,H,W,$,X,Q,K,Y,ee,el,ei,ea,eo,en,es,er,et,ed,ev,ec,eu,em;return(0,a.jsxs)(o.Fragment,{children:[console.log("field",e),!R(e)&&"str"===G(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(k.I,{id:null==e?void 0:e._variableName,value:(null==m?void 0:null===(i=m._variables)||void 0===i?void 0:null===(l=i[null==t?void 0:t._variableName])||void 0===l?void 0:l[null==e?void 0:e._variableName])||"",onChange:l=>f(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),autocomplete:"off"})]}),!R(e)&&"text-area"===G(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(F,{id:null==e?void 0:e._variableName,value:(null==m?void 0:null===(v=m._variables)||void 0===v?void 0:null===(n=v[null==t?void 0:t._variableName])||void 0===n?void 0:n[null==e?void 0:e._variableName])||"",onChange:l=>f(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),className:"resize-none",rows:6})]}),!R(e)&&"boolean"===G(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)(z.r.Group,{as:"div",className:"flex items-center",children:[(0,a.jsx)(z.r,{checked:null==m?void 0:null===(u=m._variables)||void 0===u?void 0:null===(c=u[null==t?void 0:t._variableName])||void 0===c?void 0:c[null==e?void 0:e._variableName],onChange:()=>{var l,i;return S(null==m?void 0:null===(i=m._variables)||void 0===i?void 0:null===(l=i[null==t?void 0:t._variableName])||void 0===l?void 0:l[null==e?void 0:e._variableName],null==e?void 0:e._variableName)},className:V((null==m?void 0:null===(p=m._variables)||void 0===p?void 0:null===(h=p[null==t?void 0:t._variableName])||void 0===h?void 0:h[null==e?void 0:e._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:V((null==m?void 0:null===(b=m._variables)||void 0===b?void 0:null===(x=b[null==t?void 0:t._variableName])||void 0===x?void 0:x[null==e?void 0:e._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,a.jsxs)(z.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==e?void 0:e._variableName})," ",(null==e?void 0:e.optional)?(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,a.jsx)("span",{className:"text-rose-500",children:"*"}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]})]})})}),!R(e)&&"multi-select"===G(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})}),(0,a.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,a.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==m?void 0:null===(_=m._variables)||void 0===_?void 0:null===(N=_[null==t?void 0:t._variableName])||void 0===N?void 0:N[null==e?void 0:e._variableName])&&(null==m?void 0:null===(H=m._variables)||void 0===H?void 0:null===(M=H[null==t?void 0:t._variableName])||void 0===M?void 0:null===(y=M[null==e?void 0:e._variableName])||void 0===y?void 0:y.length)===0&&(0,a.jsx)("span",{children:"None"})]}),(null==m?void 0:null===($=m._variables)||void 0===$?void 0:null===(W=$[null==t?void 0:t._variableName])||void 0===W?void 0:W[null==e?void 0:e._variableName])&&(null==m?void 0:null===(K=m._variables)||void 0===K?void 0:null===(Q=K[null==t?void 0:t._variableName])||void 0===Q?void 0:null===(X=Q[null==e?void 0:e._variableName])||void 0===X?void 0:X.map((l,i)=>(0,a.jsx)(o.Fragment,{children:(0,a.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[l,(0,a.jsx)(T.Z,{onClick:()=>j(i,null==e?void 0:e._variableName),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]})},l)))]})]}),(0,a.jsxs)("select",{id:null==e?void 0:e.name,name:null==e?void 0:e.name,value:"",onChange:l=>g(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,a.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),Array.isArray(null==e?void 0:e.choices)?e.choices.map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?B(null==m?void 0:m._variables,e.choices).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null==m?void 0:null===(ee=m._variables)||void 0===ee?void 0:null===(Y=ee[null==t?void 0:t._variableName])||void 0===Y?void 0:Y[null==e?void 0:e._variableName]))]}),!R(e)&&"multi-checkbox"===G(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(Z.x,{className:"h-72 w-full rounded-md border",children:(0,a.jsx)("div",{className:"flex space-x-2 mt-2 m-2",children:(0,a.jsx)("div",{className:"space-y-4",children:(null==e?void 0:e.choices)&&(null==e?void 0:e.choices.map(l=>{var i,o;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.X,{id:l,checked:Array.isArray(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(i=o[null==t?void 0:t._variableName])||void 0===i?void 0:i[null==e?void 0:e._variableName])&&m._variables[t._variableName][e._variableName].includes(l),onCheckedChange:i=>w(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(O,{className:"my-16"})]})}))})})})]}),!R(e)&&"select"===G(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)(s.Ph,{value:(null==m?void 0:null===(ei=m._variables)||void 0===ei?void 0:null===(el=ei[null==t?void 0:t._variableName])||void 0===el?void 0:el[null==e?void 0:e._variableName])||"",onValueChange:l=>P(l,null==e?void 0:e._variableName),children:[(0,a.jsx)(s.i4,{"aria-label":null==e?void 0:e._variableName,className:"w-[280px]",children:(0,a.jsx)(s.ki,{placeholder:"Select an option"})}),(0,a.jsx)(s.Bw,{children:(0,a.jsxs)(s.DI,{children:[(0,a.jsxs)(s.n5,{children:["Select ",null==e?void 0:e._variableName]}),null===(ea=e.choices)||void 0===ea?void 0:ea.map(e=>(0,a.jsx)(s.Ql,{value:e,children:e},e))]})})]})]}),!R(e)&&"int"===G(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-left",children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{type:"button",onClick:J(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mr-4",children:(0,a.jsx)(L.Z,{className:"h-5 w-5","aria-hidden":"true"})}),(0,a.jsx)("input",{type:"int",className:"w-16 text-center block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",id:null==e?void 0:e._variableName,value:(null==m?void 0:null===(en=m._variables)||void 0===en?void 0:null===(eo=en[null==t?void 0:t._variableName])||void 0===eo?void 0:eo[null==e?void 0:e._variableName])||0,onChange:l=>C(l,null==e?void 0:e._variableName)}),(0,a.jsx)("button",{type:"button",onClick:E(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,a.jsx)(I.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})]}),!R(e)&&"json"===G(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{placeholder:"Here you can pass a dictionary as value. e.g. {key: value}",mode:"json",theme:"twilight",name:null==e?void 0:e._variableName,onChange:l=>D(l,null==e?void 0:e._variableName),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==m?void 0:null===(er=m._variables)||void 0===er?void 0:null===(es=er[null==t?void 0:t._variableName])||void 0===es?void 0:es[null==e?void 0:e._variableName])?JSON.stringify(null==m?void 0:null===(ed=m._variables)||void 0===ed?void 0:null===(et=ed[null==t?void 0:t._variableName])||void 0===et?void 0:et[null==e?void 0:e._variableName],null,"	"):(null==m?void 0:null===(ec=m._variables)||void 0===ec?void 0:null===(ev=ec[null==t?void 0:t._variableName])||void 0===ev?void 0:ev[null==e?void 0:e._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]}),!R(e)&&"code"===G(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{placeholder:"Write Python here...",mode:"python",theme:"tomorrow",name:null==e?void 0:e._variableName,onChange:l=>U(l,null==e?void 0:e._variableName),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==m?void 0:null===(em=m._variables)||void 0===em?void 0:null===(eu=em[null==t?void 0:t._variableName])||void 0===eu?void 0:eu[null==e?void 0:e._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]})]},null==e?void 0:e._variableName)}),M(y(_(null==m?void 0:null===(i=m.types)||void 0===i?void 0:i[null==t?void 0:t.type],null==m?void 0:m.types)))&&x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{b(!x)},children:["Show optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" →"})]})})]}),M(y(_(null==m?void 0:null===(n=m.types)||void 0===n?void 0:n[null==t?void 0:t.type],null==m?void 0:m.types)))&&!x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{b(!x)},children:["Hide optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" ←"})]})})]})]})]})}):null};let H=(0,i(64070).default)(async()=>{let e=await Promise.resolve().then(i.bind(i,22392));return await Promise.resolve().then(i.t.bind(i,83346,23)),await Promise.resolve().then(i.t.bind(i,78187,23)),await Promise.resolve().then(i.t.bind(i,19234,23)),e},{loadableGenerated:{webpack:()=>[19234]},ssr:!1});function W(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];return l.filter(Boolean).join(" ")}function $(e,l){return"code"===e?"code":"text-area"===e?"text-area":"str"===e||"string"===e?l?"select":"str":"int"===e?l?"select":"int":"json"===e||"query"===e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e||"multiselect"===e?"multi-select":"multi-checkbox"===e?"multi-checkbox":"multi-str"===e?"multi-str":"complex"===e?"complex":"not_found"}function X(e){var l,i,n,d,v;let{complexFields:c}=e,m=(0,u.I0)(),h=(0,u.v9)(e=>e.stack.submittedStack),x=(0,t.useSearchParams)();(0,t.useRouter)();let b=null==c?void 0:null===(l=c[0])||void 0===l?void 0:l._variableName,f=(null===(i=x.get(b))||void 0===i?void 0:i.split(","))||[null==c?void 0:null===(n=c[0])||void 0===n?void 0:n._variableName],[g,j]=(0,o.useState)(()=>null==f?void 0:f.map(e=>(null==c?void 0:c.find(l=>(null==l?void 0:l._variableName)===e))||(null==c?void 0:c[0]))),[w,S]=(0,o.useState)(null===(d=Array(null==c?void 0:c.length))||void 0===d?void 0:d.fill(!0)),C=(e,l)=>{var i,a,o;let n=null==g?void 0:null===(i=g[e])||void 0===i?void 0:i._variableName,s=null===(o=(Array.isArray(null==h?void 0:null===(a=h._variables)||void 0===a?void 0:a[n])?h._variables[n]:[])[e])||void 0===o?void 0:o[l];return void 0!==s?s:[]},P=(e,l,i)=>{var a,o;let n=null==g?void 0:null===(a=g[e])||void 0===a?void 0:a._variableName,s=Array.isArray(null==h?void 0:null===(o=h._variables)||void 0===o?void 0:o[n])?h._variables[n]:[],r=[...s];r[e]={...(null==s?void 0:s[e])||{},[l]:i};let t={...null==h?void 0:h._variables,[n]:r},d={...h,_variables:t};m((0,N.q7)(d))},E=(e,l,i)=>{let a=C(i,l);a.push(e.target.value),P(i,l,a)},J=(e,l,i)=>{let a=C(i,l).filter((l,i)=>i!==e);P(i,l,a)},R=(e,l,i,a)=>{var o,n,s,r;let t=null==g?void 0:null===(o=g[a])||void 0===o?void 0:o._variableName,d=(null==h?void 0:null===(s=h._variables)||void 0===s?void 0:null===(n=s[t])||void 0===n?void 0:n[null==i?void 0:i._variableName])||[];if(!Array.isArray(d)){console.error('Expected an array for field "'.concat(null==i?void 0:i._variableName,'", but got:'),d);return}let v=l?[...d,e]:d.filter(l=>l!==e);m((0,N.q7)({...h,_variables:{...null==h?void 0:h._variables,[t]:{...null==h?void 0:null===(r=h._variables)||void 0===r?void 0:r[t],[null==i?void 0:i._variableName]:v}}}))},D=(e,l,i)=>{P(e,l,!i)},V=(e,l,i)=>{P(e,l,i)},G=(e,l)=>{var i,a,o,n;let s=parseInt(null==h?void 0:null===(n=h._variables)||void 0===n?void 0:null===(a=n[null==g?void 0:null===(o=g[e])||void 0===o?void 0:o._variableName])||void 0===a?void 0:null===(i=a[e])||void 0===i?void 0:i[l])||0;P(e,l,s+1)},M=(e,l)=>{var i,a,o,n;let s=parseInt(null==h?void 0:null===(n=h._variables)||void 0===n?void 0:null===(a=n[null==g?void 0:null===(o=g[e])||void 0===o?void 0:o._variableName])||void 0===a?void 0:null===(i=a[e])||void 0===i?void 0:i[l])||0;P(e,l,s-1)},U=(e,l,i)=>{try{let a=""===i?{}:JSON.parse(i);P(e,l,a)}catch(a){console.error("Error parsing JSON:",a),P(e,l,i)}},X=(e,l,i)=>{P(e,l,i)},Q=e=>{S(l=>{let i=[...l];return i[e]=!i[e],i})},K=e=>{j(l=>l.filter((l,i)=>i!==e));let l={...null==h?void 0:h._variables};Object.keys(l).forEach(i=>{if(Array.isArray(l[i])){var a;l[i]=null==l?void 0:null===(a=l[i])||void 0===a?void 0:a.filter((l,i)=>i!==e)}});let i={...h,_variables:l};m((0,N.q7)(i));let a=f.filter((l,i)=>i!==e),o=new URL(window.location),n=new URLSearchParams(o.search);n.set(b,a.join(",")),window.history.pushState(null,"","".concat(o.pathname,"?").concat(n.toString()))};return h?(0,a.jsxs)(a.Fragment,{children:[g.map((e,l)=>{var i,n;return(0,a.jsxs)("div",{className:"mt-4 mb-2 pt-4 rounded-2xl border-4 border-dashed border-gray-900/25 px-6 py-10",children:[(0,a.jsx)("div",{className:"space-y-12",children:(0,a.jsx)("div",{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:(0,a.jsxs)(r._,{className:"text-xl",htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(null==g?void 0:g.length)>1&&(0,a.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,a.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 outline ring-2 ring-indigo-500",onClick:()=>K(l),children:[(0,a.jsx)("span",{className:"sr-only",children:"Close"}),(0,a.jsx)(T.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]})})}),(0,a.jsx)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:y(_(null==h?void 0:null===(i=h.types)||void 0===i?void 0:i[null==e?void 0:e.type],null==h?void 0:h.types)).map(i=>{var n,t,d,v,c,u,m,x,b,f,N,j,_,y,S,C,Q,K,Y,ee,el,ei,ea,eo,en,es,er,et,ed,ev,ec,eu,em,eh,ep,ex,eb,ef,eN,eg,ej,e_,ey,ew,eS,ek,eA,eZ,eC,eP,eF,eE,eO,eq,eT,eI,eL,ez,eJ,eR,eD,eB,eV,eG;return(0,a.jsx)(o.Fragment,{children:(!i.optional||w[l])&&(0,a.jsxs)(a.Fragment,{children:["str"===$(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(k.I,{id:"".concat(l,"-").concat(null==i?void 0:i._variableName),value:(null==h?void 0:null===(v=h._variables)||void 0===v?void 0:null===(t=v[null==g?void 0:null===(d=g[l])||void 0===d?void 0:d._variableName])||void 0===t?void 0:null===(n=t[l])||void 0===n?void 0:n[null==i?void 0:i._variableName])||"",onChange:e=>P(l,null==i?void 0:i._variableName,e.target.value),placeholder:(null==i?void 0:i.default)?"Default: ".concat(null==i?void 0:i.default):"Type the ".concat(null==i?void 0:i._variableName," value here")})]}),"text-area"===$(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(F,{id:"".concat(l,"-").concat(null==i?void 0:i._variableName),value:(null==h?void 0:null===(x=h._variables)||void 0===x?void 0:null===(u=x[null==g?void 0:null===(m=g[l])||void 0===m?void 0:m._variableName])||void 0===u?void 0:null===(c=u[l])||void 0===c?void 0:c[null==i?void 0:i._variableName])||"",onChange:e=>P(l,null==i?void 0:i._variableName,e.target.value),placeholder:(null==i?void 0:i.default)?"Default: ".concat(null==i?void 0:i.default):"Type the ".concat(null==i?void 0:i._variableName," value here"),className:"resize-none",rows:6})]}),"multi-select"===$(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==i?void 0:i._variableName,children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})}),(0,a.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,a.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==h?void 0:null===(j=h._variables)||void 0===j?void 0:null===(f=j[null==g?void 0:null===(N=g[l])||void 0===N?void 0:N._variableName])||void 0===f?void 0:null===(b=f[l])||void 0===b?void 0:b[null==i?void 0:i._variableName])&&(null==h?void 0:null===(Q=h._variables)||void 0===Q?void 0:null===(S=Q[null==g?void 0:null===(C=g[l])||void 0===C?void 0:C._variableName])||void 0===S?void 0:null===(y=S[l])||void 0===y?void 0:null===(_=y[null==i?void 0:i._variableName])||void 0===_?void 0:_.length)===0&&(0,a.jsx)("span",{children:"None"})]}),(null==h?void 0:null===(el=h._variables)||void 0===el?void 0:null===(Y=el[null==g?void 0:null===(ee=g[l])||void 0===ee?void 0:ee._variableName])||void 0===Y?void 0:null===(K=Y[l])||void 0===K?void 0:K[null==i?void 0:i._variableName])&&(null==h?void 0:null===(en=h._variables)||void 0===en?void 0:null===(ea=en[null==g?void 0:null===(eo=g[l])||void 0===eo?void 0:eo._variableName])||void 0===ea?void 0:null===(ei=ea[l])||void 0===ei?void 0:ei[null==i?void 0:i._variableName].map((e,n)=>(0,a.jsx)(o.Fragment,{children:(0,a.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[e,(0,a.jsx)(T.Z,{onClick:()=>J(n,null==i?void 0:i._variableName,l),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]})},n)))]})]}),(0,a.jsxs)("select",{id:null==i?void 0:i.name,name:null==i?void 0:i.name,value:"",onChange:e=>E(e,null==i?void 0:i._variableName,l),placeholder:(null==i?void 0:i.default)?"Default: ".concat(null==i?void 0:i.default):"Type the ".concat(null==i?void 0:i.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,a.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),Array.isArray(null==i?void 0:i.choices)?i.choices.map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==i?void 0:i.choices)&&i.choices.startsWith("$")?B(null==h?void 0:h._variables,i.choices).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null==h?void 0:null===(er=h._variables)||void 0===er?void 0:null===(es=er[null==e?void 0:e._variableName])||void 0===es?void 0:es[null==i?void 0:i._variableName]))]}),"multi-checkbox"===$(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==i?void 0:i._variableName,children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(Z.x,{className:"h-72 w-full rounded-md border",children:(0,a.jsx)("div",{className:"flex space-x-2 mt-2 m-2",children:(0,a.jsx)("div",{className:"space-y-4",children:(null==i?void 0:i.choices)&&(null==i?void 0:i.choices.map(o=>{var n,s,r;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.X,{id:o,checked:null==h?void 0:null===(r=h._variables)||void 0===r?void 0:null===(s=r[null==e?void 0:e._variableName])||void 0===s?void 0:null===(n=s[null==i?void 0:i._variableName])||void 0===n?void 0:n.includes(o),onCheckedChange:e=>R(o,e,i,l)}),(0,a.jsx)("label",{htmlFor:o,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:o})]},o),(0,a.jsx)(O,{className:"my-16"})]})}))})})})]}),"boolean"===$(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)(z.r.Group,{as:"div",className:"flex items-center",children:[(0,a.jsx)(z.r,{id:"".concat(l,"-").concat(null==i?void 0:i._variableName),checked:null==h?void 0:null===(ec=h._variables)||void 0===ec?void 0:null===(ed=ec[null==g?void 0:null===(ev=g[l])||void 0===ev?void 0:ev._variableName])||void 0===ed?void 0:null===(et=ed[l])||void 0===et?void 0:et[null==i?void 0:i._variableName],onChange:e=>{var a,o,n,s;return D(l,null==i?void 0:i._variableName,null==h?void 0:null===(s=h._variables)||void 0===s?void 0:null===(o=s[null==g?void 0:null===(n=g[l])||void 0===n?void 0:n._variableName])||void 0===o?void 0:null===(a=o[l])||void 0===a?void 0:a[null==i?void 0:i._variableName])},className:W((null==h?void 0:null===(ep=h._variables)||void 0===ep?void 0:null===(em=ep[null==g?void 0:null===(eh=g[l])||void 0===eh?void 0:eh._variableName])||void 0===em?void 0:null===(eu=em[l])||void 0===eu?void 0:eu[null==i?void 0:i._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:W((null==h?void 0:null===(eN=h._variables)||void 0===eN?void 0:null===(eb=eN[null==g?void 0:null===(ef=g[l])||void 0===ef?void 0:ef._variableName])||void 0===eb?void 0:null===(ex=eb[l])||void 0===ex?void 0:ex[null==i?void 0:i._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,a.jsxs)(z.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==i?void 0:i._variableName})," ",(null==i?void 0:i.optional)?(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]})})]},l),"select"===$(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsxs)(s.Ph,{value:(null==h?void 0:null===(ey=h._variables)||void 0===ey?void 0:null===(ej=ey[null==g?void 0:null===(e_=g[l])||void 0===e_?void 0:e_._variableName])||void 0===ej?void 0:null===(eg=ej[l])||void 0===eg?void 0:eg[null==i?void 0:i._variableName])||"",onValueChange:e=>V(l,null==i?void 0:i._variableName,e),children:[(0,a.jsx)(s.i4,{className:"w-[280px]",children:(0,a.jsx)(s.ki,{placeholder:"Select an option"})}),(0,a.jsx)(s.Bw,{children:null==i?void 0:null===(ew=i.choices)||void 0===ew?void 0:ew.map(e=>(0,a.jsx)(s.Ql,{value:e,children:e},e))})]})]}),"int"===$(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>M(l,null==i?void 0:i._variableName),children:(0,a.jsx)(L.Z,{className:"h-4 w-4"})}),(0,a.jsx)(k.I,{type:"number",id:"".concat(l,"-").concat(null==i?void 0:i._variableName),value:(null==h?void 0:null===(eZ=h._variables)||void 0===eZ?void 0:null===(ek=eZ[null==g?void 0:null===(eA=g[l])||void 0===eA?void 0:eA._variableName])||void 0===ek?void 0:null===(eS=ek[l])||void 0===eS?void 0:eS[null==i?void 0:i._variableName])||0,onChange:e=>P(l,null==i?void 0:i._variableName,parseInt(e.target.value)),className:"w-20 text-center"}),(0,a.jsx)(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>G(l,null==i?void 0:i._variableName),children:(0,a.jsx)(I.Z,{className:"h-4 w-4"})})]})]}),"json"===$(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(H,{mode:"json",theme:"github",name:"".concat(l,"-").concat(null==i?void 0:i._variableName),onChange:e=>U(l,null==i?void 0:i._variableName,e),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==h?void 0:null===(eE=h._variables)||void 0===eE?void 0:null===(eP=eE[null==g?void 0:null===(eF=g[l])||void 0===eF?void 0:eF._variableName])||void 0===eP?void 0:null===(eC=eP[l])||void 0===eC?void 0:eC[null==i?void 0:i._variableName])?JSON.stringify(null==h?void 0:null===(eI=h._variables)||void 0===eI?void 0:null===(eq=eI[null==g?void 0:null===(eT=g[l])||void 0===eT?void 0:eT._variableName])||void 0===eq?void 0:null===(eO=eq[l])||void 0===eO?void 0:eO[null==i?void 0:i._variableName],null,2):(null==h?void 0:null===(eR=h._variables)||void 0===eR?void 0:null===(ez=eR[null==g?void 0:null===(eJ=g[l])||void 0===eJ?void 0:eJ._variableName])||void 0===ez?void 0:null===(eL=ez[l])||void 0===eL?void 0:eL[null==i?void 0:i._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]}),"code"===$(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(H,{mode:"python",theme:"github",name:"".concat(l,"-").concat(null==i?void 0:i._variableName),onChange:e=>X(l,null==i?void 0:i._variableName,e),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==h?void 0:null===(eG=h._variables)||void 0===eG?void 0:null===(eB=eG[null==g?void 0:null===(eV=g[l])||void 0===eV?void 0:eV._variableName])||void 0===eB?void 0:null===(eD=eB[l])||void 0===eD?void 0:eD[null==i?void 0:i._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]})]})},null==i?void 0:i._variableName)})}),y(_(null==h?void 0:null===(n=h.types)||void 0===n?void 0:n[null==e?void 0:e.type],null==h?void 0:h.types)).some(e=>!0===e.optional)&&(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)(p.z,{variant:"link",onClick:()=>Q(l),children:[(null==w?void 0:w[l])?"Hide":"Show"," optional parameters"]})})]},l)}),(null==g?void 0:null===(v=g[0])||void 0===v?void 0:v.sequence)>0&&(0,a.jsx)("div",{className:"flex items-center justify-center mt-6",children:(0,a.jsx)("button",{type:"button",onClick:()=>{let e=null==c?void 0:c[0];j(l=>[...l,e]);let l=[...f,null==e?void 0:e._variableName],i=new URL(window.location),a=new URLSearchParams(i.search);a.set(b,l.join(",")),window.history.pushState(null,"","".concat(i.pathname,"?").concat(a.toString()))},className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,a.jsx)(I.Z,{className:"h-5 w-5","aria-hidden":"true"})})})]}):null}var Q=e=>{let{header:l="Edit now",description:i="Edit these fields",children:n}=e,[s,r]=o.useState(!1);return(0,a.jsxs)("div",{className:"w-full border border-border rounded-lg shadow-sm flex justify-between items-center p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:l}),(0,a.jsxs)(h.Vq,{open:s,onOpenChange:r,children:[(0,a.jsx)(p.z,{variant:"outline",size:"sm",onClick:()=>r(!0),children:"Edit now"}),(0,a.jsxs)(h.cZ,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:l}),(0,a.jsx)(h.Be,{children:i})]}),(0,a.jsx)(Z.x,{className:"h-[300px] w-full rounded-md border p-4",children:n}),(0,a.jsx)(h.cN,{children:(0,a.jsx)(p.z,{onClick:()=>r(!1),children:"Close"})})]})]})]})},K=i(86288),Y=i(23919);function ee(){let[e,l]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let e=setTimeout(()=>{l(!1)},2e3);return()=>clearTimeout(e)},[]),(0,a.jsx)(K.Zb,{className:"w-full max-w-md",children:(0,a.jsx)(K.aY,{className:"flex items-center space-x-4 p-6",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.Z,{className:"h-10 w-10 text-primary animate-spin"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Loading..."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please wait while we check for schemas."})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.Z,{className:"h-10 w-10 text-yellow-500"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"No schema found"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please use Developer Mode to create the application."})]})]})})})}var el=i(13271);function ei(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];return l.filter(Boolean).join(" ")}let ea=e=>(null==e?void 0:e.types)&&"object"==typeof e.types?Object.keys(e.types):[];function eo(e,l,i){return"code"===e?"code":"text-area"===e?"text-area":"multi-str"===e?"multi-str":"multi-checkbox"===e?"multi-checkbox":"str"===e||"string"===e?l?"select":"str":"int"===e?l?"select":"int":"json"===e||"query"==e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e?"multi-select":"complex"===e?"complex":i.includes(e)?e:"not_found"}function en(e){return e.some(e=>!0===e.optional)}var es=function(e){let{simple:l=!1}=e,i=(0,u.I0)(),n=(0,u.v9)(e=>e.stack.stackSelectedTemplate),t=(0,u.v9)(e=>e.stack.submittedStack),[v,m]=(0,o.useState)(0),[h,x]=(0,o.useState)(!0),[b,f]=(0,o.useState)([...el.defaultFormTypes]),[g,j]=(0,o.useState)({}),w=(e,l)=>{let{target:i}=e;j(e=>({...e,[l]:i.value}))};(0,o.useEffect)(()=>{t&&(m(0),f([...b,...ea(t)]))},[t]);let S=(e,l)=>{i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[l]:e.target.value}})),m(e=>e+1)},C=(e,l)=>{i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[l]:e}})),m(e=>e+1)},P=(e,l)=>{var a,o,n,s,r;i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[l]:(null==t?void 0:null===(a=t._variables)||void 0===a?void 0:a[l])&&(null==t?void 0:null===(n=t._variables)||void 0===n?void 0:null===(o=n[l])||void 0===o?void 0:o.includes(e.target.value))?[...null==t?void 0:null===(s=t._variables)||void 0===s?void 0:s[l],e.target.value]:[...(null==t?void 0:null===(r=t._variables)||void 0===r?void 0:r[l])||[],e.target.value]}})),m(e=>e+1)},E=(e,l)=>{P({target:{value:e}},l),m(e=>e+1),j(e=>({...e,[l]:""}))},V=(e,l,a)=>{var o,n;let s=l?[...null==t?void 0:null===(o=t._variables)||void 0===o?void 0:o[null==a?void 0:a._variableName],e]:null==t?void 0:null===(n=t._variables)||void 0===n?void 0:n[null==a?void 0:a._variableName].filter(l=>l!==e);i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[null==a?void 0:a._variableName]:s}})),m(e=>e+1)},G=(e,l)=>{var a,o,n;i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[l]:Array.isArray(null==t?void 0:null===(a=t._variables)||void 0===a?void 0:a[l])?null==t?void 0:null===(n=t._variables)||void 0===n?void 0:null===(o=n[l])||void 0===o?void 0:o.filter((l,i)=>i!==e):[]}})),m(e=>e+1)},M=e=>{i((0,N.q7)({...t,identifier:e.target.value})),m(e=>e+1)},H=(e,l)=>{i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[l]:!e}})),m(e=>e+1)},W=(e,l)=>{let a=e.target.value;try{let e=parseInt(a,10);isNaN(e)?c.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"}):(i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[l]:e}})),m(e=>e+1))}catch(e){console.error("Error:",e),c.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"})}},$=e=>()=>{var l;i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[e]:(parseInt(null==t?void 0:null===(l=t._variables)||void 0===l?void 0:l[e])||0)+1}})),m(e=>e+1)},K=e=>()=>{var l;i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[e]:(parseInt(null==t?void 0:null===(l=t._variables)||void 0===l?void 0:l[e])||0)-1}})),m(e=>e+1)},Y=e=>null!=e&&!!e.optional&&!!h,es=(e,l)=>{try{let a;""===e?a={}:"string"==typeof e?(a=JSON.parse(e),JSON.stringify(a,null,2)):a={},console.log("Parsed JSON:",a),i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[l]:a}}))}catch(a){console.error("Error parsing JSON:",a),i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[l]:e}}))}},er=(e,l)=>{try{i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[l]:e}}))}catch(a){console.error("Error parsing JSON:",a),i((0,N.q7)({...t,_variables:{...null==t?void 0:t._variables,[l]:e}}))}};return t?!n||(null==t?void 0:t.schema)?(0,a.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[!l&&(null==t?void 0:t.schema)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-2 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"identifier",children:["identifier",(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,a.jsx)(q.Z,{popoverheader:"Identifier",popovercontent:(0,a.jsx)("p",{children:"Please provide a unique name for your application. This name is used to identify your application in the system. It should be unique and should not contain any special characters."})})]}),(0,a.jsx)(k.I,{id:"identifier",value:(null==t?void 0:t.identifier)||"",onChange:e=>M(e),placeholder:"<enter-a-unique-identifier>",autocomplete:"off"})]}),(null==t?void 0:t.schema)&&y(_(null==t?void 0:t.schema,null==t?void 0:t.types)).map(e=>{var l,i,n,v,c,u,m,h,x,f,N,j,_,y,M,ee,ea,en,et,ed;return(0,a.jsxs)(o.Fragment,{children:[!Y(e)&&"str"===eo(null==e?void 0:e.type,null==e?void 0:e.choices,b)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(k.I,{id:null==e?void 0:e._variableName,value:(null==t?void 0:null===(l=t._variables)||void 0===l?void 0:l[null==e?void 0:e._variableName])||"",onChange:l=>S(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),autocomplete:"off"})]}),!Y(e)&&"select"===eo(null==e?void 0:e.type,null==e?void 0:e.choices,b)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)(s.Ph,{value:(null==t?void 0:null===(i=t._variables)||void 0===i?void 0:i[null==e?void 0:e._variableName])||"",onValueChange:l=>C(l,null==e?void 0:e._variableName),children:[(0,a.jsx)(s.i4,{"aria-label":null==e?void 0:e._variableName,className:"w-[280px]",children:(0,a.jsx)(s.ki,{placeholder:"Select an option"})}),(0,a.jsx)(s.Bw,{children:(0,a.jsxs)(s.DI,{children:[(0,a.jsxs)(s.n5,{children:["Select ",null==e?void 0:e._variableName]}),Array.isArray(null==e?void 0:e.choices)&&e.choices.map(e=>(0,a.jsx)(s.Ql,{value:e,children:e},e))]})})]})]}),!Y(e)&&"not_found"===eo(null==e?void 0:e.type,null==e?void 0:e.choices,b)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)(R.bZ,{variant:"destructive",children:[(0,a.jsx)(J.Z,{className:"h-4 w-4"}),(0,a.jsx)(R.Cd,{children:"Error"}),(0,a.jsxs)(R.X,{children:["Type: ",(0,a.jsx)(D.C,{variant:"destructive",children:null==e?void 0:e.type})," ","is not a valid type. Please create this type and refer it in the schema."]})]})]}),!Y(e)&&"text-area"===eo(null==e?void 0:e.type,null==e?void 0:e.choices,b)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(F,{id:null==e?void 0:e._variableName,value:(null==t?void 0:null===(n=t._variables)||void 0===n?void 0:n[null==e?void 0:e._variableName])||"",onChange:l=>S(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),className:"resize-none",rows:6})]}),!Y(e)&&"boolean"===eo(null==e?void 0:e.type,null==e?void 0:e.choices,b)&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)(z.r.Group,{as:"div",className:"flex items-center",children:[(0,a.jsx)(z.r,{checked:null==t?void 0:null===(v=t._variables)||void 0===v?void 0:v[null==e?void 0:e._variableName],onChange:()=>{var l;return H(null==t?void 0:null===(l=t._variables)||void 0===l?void 0:l[null==e?void 0:e._variableName],null==e?void 0:e._variableName)},className:ei((null==t?void 0:null===(c=t._variables)||void 0===c?void 0:c[null==e?void 0:e._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:ei((null==t?void 0:null===(u=t._variables)||void 0===u?void 0:u[null==e?void 0:e._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,a.jsxs)(z.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==e?void 0:e._variableName})," ",(null==e?void 0:e.optional)?(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,a.jsx)("span",{className:"text-rose-500",children:"*"}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]})]})})}),!Y(e)&&"multi-select"===eo(null==e?void 0:e.type,null==e?void 0:e.choices,b)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})}),(0,a.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,a.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==t?void 0:null===(m=t._variables)||void 0===m?void 0:m[null==e?void 0:e._variableName])&&(null==t?void 0:null===(x=t._variables)||void 0===x?void 0:null===(h=x[null==e?void 0:e._variableName])||void 0===h?void 0:h.length)===0&&(0,a.jsx)("span",{children:"None"})]}),(null==t?void 0:null===(f=t._variables)||void 0===f?void 0:f[null==e?void 0:e._variableName])&&(null==t?void 0:null===(N=t._variables)||void 0===N?void 0:N[null==e?void 0:e._variableName].map((l,i)=>(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center rounded-full bg-white m-0.5 px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[l,(0,a.jsx)(T.Z,{onClick:()=>G(i,null==e?void 0:e._variableName),className:"ml-1 h-4 w-4 text-gray-400 hover:text-gray-600","aria-hidden":"true"})]},i)))]})]}),(0,a.jsxs)("select",{id:null==e?void 0:e.name,name:null==e?void 0:e.name,value:"",onChange:l=>P(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,a.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),Array.isArray(null==e?void 0:e.choices)?e.choices.map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?B(null==t?void 0:t._variables,e.choices).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null==t?void 0:null===(j=t._variables)||void 0===j?void 0:j[null==e?void 0:e._variableName]))]}),!Y(e)&&"multi-str"===eo(null==e?void 0:e.type,null==e?void 0:e.choices,b)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(null==t?void 0:null===(_=t._variables)||void 0===_?void 0:_[null==e?void 0:e._variableName])&&(null==t?void 0:null===(y=t._variables)||void 0===y?void 0:y[null==e?void 0:e._variableName].map((l,i)=>(0,a.jsxs)("button",{type:"button",className:"inline-flex m-0.5 items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[l,(0,a.jsx)(T.Z,{onClick:()=>G(i,null==e?void 0:e._variableName),className:"ml-1 h-4 w-4 text-gray-400 hover:text-gray-600","aria-hidden":"true"})]},i))),(0,a.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,a.jsx)(k.I,{id:null==e?void 0:e.name,name:null==e?void 0:e.name,type:"text",value:g[null==e?void 0:e._variableName]||"",placeholder:"Type the ".concat(null==e?void 0:e._variableName," value here"),onChange:l=>w(l,null==e?void 0:e._variableName),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6","aria-label":"Enter item"}),(0,a.jsx)(p.z,{type:"button",onClick:()=>{E(g[null==e?void 0:e._variableName],null==e?void 0:e._variableName)},"aria-label":"Add ".concat(null==e?void 0:e._variableName),disabled:!(null===(M=g[null==e?void 0:e._variableName])||void 0===M?void 0:M.trim()),className:"justify-center p-2 rounded bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2",children:(0,a.jsx)(I.Z,{className:"h-4 w-4"})})]})]}),!Y(e)&&"multi-checkbox"===eo(null==e?void 0:e.type,null==e?void 0:e.choices,b)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(Z.x,{className:"h-72 w-full rounded-md border",children:(0,a.jsx)("div",{className:"flex space-x-2 mt-2 m-2",children:(0,a.jsx)("div",{className:"space-y-4",children:(null==e?void 0:e.choices)&&(null==e?void 0:e.choices.map(l=>{var i;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.X,{id:l,checked:null==t?void 0:null===(i=t._variables)||void 0===i?void 0:i[null==e?void 0:e._variableName].includes(l),onCheckedChange:i=>V(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(O,{className:"my-16"})]})}))})})})]}),!Y(e)&&"int"===eo(null==e?void 0:e.type,null==e?void 0:e.choices,b)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-left",children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{type:"button",onClick:K(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mr-4",children:(0,a.jsx)(L.Z,{className:"h-5 w-5","aria-hidden":"true"})}),(0,a.jsx)("input",{type:"int",className:"w-16 text-center block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",id:null==e?void 0:e._variableName,value:(null==t?void 0:null===(ee=t._variables)||void 0===ee?void 0:ee[null==e?void 0:e._variableName])||0,onChange:l=>W(l,null==e?void 0:e._variableName)}),(0,a.jsx)("button",{type:"button",onClick:$(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,a.jsx)(I.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})]}),!Y(e)&&"json"===eo(null==e?void 0:e.type,null==e?void 0:e.choices,b)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Here you can pass a dictionary as value. e.g. {key: value}",mode:"json",theme:"twilight",name:null==e?void 0:e._variableName,onChange:l=>es(l,null==e?void 0:e._variableName),fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==t?void 0:null===(ea=t._variables)||void 0===ea?void 0:ea[null==e?void 0:e._variableName])?JSON.stringify(null==t?void 0:null===(en=t._variables)||void 0===en?void 0:en[null==e?void 0:e._variableName],null,"	"):(null==t?void 0:null===(et=t._variables)||void 0===et?void 0:et[null==e?void 0:e._variableName])||"",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,style:{width:"100%",height:"200px"}})]}),!Y(e)&&"code"===eo(null==e?void 0:e.type,null==e?void 0:e.choices,b)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(q.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{className:"mt-2 rounded-md border-2 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Write Python here...",mode:"python",theme:"tomorrow",name:null==e?void 0:e._variableName,onChange:l=>er(l,null==e?void 0:e._variableName),fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==t?void 0:null===(ed=t._variables)||void 0===ed?void 0:ed[null==e?void 0:e._variableName])||"",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,style:{width:"100%",height:"200px"}})]}),"not_found"!==eo(null==e?void 0:e.type,null==e?void 0:e.choices,b)&&!el.defaultFormTypes.includes(eo(null==e?void 0:e.type,null==e?void 0:e.choices,b))&&(!Y(e)||"complex"===eo(null==e?void 0:e.type,null==e?void 0:e.choices,b))&&(0,a.jsxs)("div",{children:[(0,a.jsx)("br",{}),(0,a.jsx)(Q,{header:null==e?void 0:e._variableName,className:"mt-4",children:(null==e?void 0:e.sequence)?(0,a.jsx)(X,{complexFields:[e]}):(0,a.jsx)(U,{complexField:e})})]})]},null==e?void 0:e._variableName)}),en(y(_(null==t?void 0:t.schema,null==t?void 0:t.types)))&&h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{x(!h)},children:["Show optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" →"})]})})]}),en(y(_(null==t?void 0:t.schema,null==t?void 0:t.types)))&&!h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{x(!h)},children:["Hide optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" ←"})]})})]})]}):(0,a.jsx)(ee,{}):null};function er(e){let{simple:l=!1}=e,i=(0,t.useRouter)();(0,u.v9)(e=>e.environment.environmentLoadedValues);let d=(0,u.v9)(e=>e.stack.stackSelectedTemplate);(0,u.v9)(e=>e.stack.submittedStack);let v=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),m=(0,u.I0)(),[h,p]=(0,o.useState)("{}"),[b,g]=(0,o.useState)({}),j=()=>{i.push("/webui/add-application",void 0,{shallow:!0}),m((0,N.v$)("")),p(""),g({}),m((0,N.q7)(""))};(0,o.useEffect)(()=>{let e=()=>{console.log("Error fetching Services API data. Please check your connection.")};(async()=>{try{let e=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=template")),{headers:{Accept:"application/json",Authorization:(0,x.Z)(v),pinnacle_reverse_proxy:"http://localhost:8000"}});y([...e.data])}catch(l){e()}})()},[]);let[_,y]=(0,o.useState)(["No template added yet"]);return(0,a.jsxs)(a.Fragment,{children:[!l&&(0,a.jsxs)("div",{className:"max-w-3xl",children:[(0,a.jsxs)(r._,{htmlFor:"terms",children:["Select a template"," ",d&&(0,a.jsx)("span",{onClick:j,className:"bg-transparent border-none text-indigo-500 cursor-pointer p-0",children:"(Remove Selection)"})]}),(0,a.jsxs)(s.Ph,{value:d,onValueChange:e=>{l||j(),m((0,N.v$)(e));let i=()=>{c.ZP.error("Error fetching template API data. Please check your connection. ");let e={error:"Error fetching template API data. No template information found!"};p(JSON.stringify(e,null,2)),m((0,N.q7)(e)),console.log("Error fetching template API data. Please check your connection. So returning to fallback data!")};(async()=>{try{let l=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show_template?identifier=").concat(e)),{headers:{Accept:"application/json",Authorization:(0,x.Z)(v),pinnacle_reverse_proxy:"http://localhost:8000"}});console.log("/webui/restapi/db/show_template?identifier=".concat(e),l.data),m((0,N.q7)(w(l.data)))}catch(e){i()}})()},children:[(0,a.jsx)(s.i4,{className:"w-3/6 mt-2 mb-2",children:(0,a.jsx)(s.ki,{placeholder:"Select a template"})}),(0,a.jsx)(s.Bw,{children:(0,a.jsxs)(s.DI,{children:[(0,a.jsx)(s.n5,{children:"Select a template"}),_&&_.map((e,l)=>(0,a.jsx)(s.Ql,{value:e,children:e},l))]})})]})]}),!l&&(0,a.jsx)("br",{}),(0,a.jsx)(es,{simple:l}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),!l&&(0,a.jsx)(f,{})]})}var et=i(61883),ed=i(52269),ev=i(58153),ec=i(64386),eu=i(24878),em=i(25820);function eh(e){let{id:l="default-id",onGoBack:i=()=>{}}=e,[n,s]=(0,o.useState)([]),[r,t]=(0,o.useState)(!0),[d,v]=(0,o.useState)(null),[c,u]=(0,o.useState)(!1),m=(0,o.useRef)(null),h=async()=>{t(!0),v(null),s([]);try{let e=await fetch("".concat("http://localhost:8000","/stdout?id=").concat(l));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let i=e.body.getReader(),a=new TextDecoder;for(;;){let{value:e,done:l}=await i.read();if(l){console.log("Stream complete");break}let o=a.decode(e,{stream:!0}).split("\n").filter(e=>""!==e.trim());s(e=>[...e,...o]),t(!1)}}catch(e){console.error("Error fetching logs:",e),v("Failed to fetch logs: ".concat(e.message))}finally{t(!1)}};return(0,o.useEffect)(()=>(h(),()=>{}),[l]),(0,o.useEffect)(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[n]),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"py-4 w-full max-w-7xl",children:(0,a.jsx)("a",{href:"/webui/application",onClick:i,children:(0,a.jsxs)(p.z,{className:"flex items-center space-x-2",children:[(0,a.jsx)(et.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Go back"})]})})}),(0,a.jsx)("div",{className:"w-full max-w-7xl bg-white shadow-lg rounded-lg overflow-hidden",children:(0,a.jsx)("div",{className:"w-full bg-gray-900 ".concat(c?"fixed inset-0 z-50":"min-h-0"),children:(0,a.jsxs)("div",{className:"w-full flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-b border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),(0,a.jsxs)("span",{className:"text-gray-300 ml-4 font-mono",children:["Terminal - Apply Application Logs (",l,")"]})]}),(0,a.jsx)("button",{onClick:()=>{u(!c)},className:"text-gray-400 hover:text-gray-200",children:c?(0,a.jsx)(ed.Z,{className:"w-5 h-5"}):(0,a.jsx)(ev.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"p-4 overflow-hidden ".concat(c?"flex-1":"h-[400px]"),children:r?(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-300",children:[(0,a.jsx)(ec.Z,{className:"animate-spin"}),(0,a.jsx)("span",{className:"font-mono",children:"Initializing terminal session..."})]}):d?(0,a.jsxs)("div",{className:"text-red-400 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 font-mono",children:[(0,a.jsx)(J.Z,{className:"w-5 h-5"}),(0,a.jsxs)("span",{children:["Error: ",d]})]}),(0,a.jsxs)("button",{onClick:h,className:"flex items-center space-x-2 px-3 py-1 bg-gray-700 text-gray-200 rounded hover:bg-gray-600 font-mono",children:[(0,a.jsx)(eu.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Retry Connection"})]})]}):n.length>0?(0,a.jsx)("div",{ref:m,className:"font-mono text-sm text-green-400 overflow-y-auto h-full",children:n.map((e,l)=>(0,a.jsx)("div",{className:"whitespace-pre-wrap py-0.5 border-b border-gray-800/50 last:border-0",children:e},l))}):(0,a.jsx)("div",{className:"text-gray-500 font-mono",children:"No logs available. Waiting for data..."})}),(0,a.jsx)("div",{className:"bg-gray-800 p-2 border-t border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 font-mono",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(em.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{children:"Connected to logs"})]}),(0,a.jsx)("span",{children:new Date().toLocaleTimeString()})]})})]})})})]})}var ep=i(56146),ex=i(40837);function eb(){let[e,l]=(0,o.useState)(!1),i=(0,t.useSearchParams)().get("id");return i?(0,a.jsx)(eh,{id:i}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mx-auto max-w-3xl",children:[(0,a.jsx)(ep.aG,{children:(0,a.jsxs)(ep.Jb,{children:[(0,a.jsx)(ep.gN,{children:(0,a.jsx)(ep.At,{href:"/webui",children:"Home"})}),(0,a.jsx)(ep.bg,{}),(0,a.jsx)(ep.gN,{children:(0,a.jsx)(ep.At,{href:"/webui/application",children:"Application"})}),(0,a.jsx)(ep.bg,{}),(0,a.jsx)(ep.gN,{children:(0,a.jsx)(ep.AG,{children:(0,a.jsx)("a",{href:"/webui/application",children:"Add Application"})})})]})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"border-b border-gray-200 pb-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold leading-7 text-gray-900",children:"Create a new application"}),(0,a.jsxs)(p.z,{variant:"outline",onClick:()=>l(!0),className:"flex items-center gap-2",children:[(0,a.jsx)(ex.Z,{className:"w-4 h-4"}),"Developer mode"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Set up your new application in a minute!"}),(0,a.jsx)(h.Vq,{open:e,onOpenChange:l,children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[1000px] max-h-[80vh] flex flex-col",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Developer Mode"}),(0,a.jsx)(h.Be,{children:"Access advanced settings and configurations for your application."})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto py-6",children:(0,a.jsx)("div",{className:"m-2",children:(0,a.jsx)(S,{})})})]})})]}),(0,a.jsx)("br",{}),(0,a.jsx)(er,{})]})})}var ef=i(70007),eN=(0,i(4867).N)(function(){return(0,a.jsx)(ef.Z,{activeNavItem:"/webui/application",children:(0,a.jsx)("main",{className:"py-10",children:(0,a.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,a.jsx)(eb,{})})})})})})})},72513:function(e,l,i){"use strict";i.d(l,{Cd:function(){return d},X:function(){return v},bZ:function(){return t}});var a=i(27573),o=i(7653),n=i(85145),s=i(18580);let r=(0,n.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),t=o.forwardRef((e,l)=>{let{className:i,variant:o,...n}=e;return(0,a.jsx)("div",{ref:l,role:"alert",className:(0,s.cn)(r({variant:o}),i),...n})});t.displayName="Alert";let d=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)("h5",{ref:l,className:(0,s.cn)("mb-1 font-medium leading-none tracking-tight",i),...o})});d.displayName="AlertTitle";let v=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)("div",{ref:l,className:(0,s.cn)("text-sm [&_p]:leading-relaxed",i),...o})});v.displayName="AlertDescription"},4216:function(e,l,i){"use strict";i.d(l,{X:function(){return t}});var a=i(27573),o=i(7653),n=i(92999),s=i(85688),r=i(18580);let t=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)(n.fC,{ref:l,className:(0,r.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",i),...o,children:(0,a.jsx)(n.z$,{className:(0,r.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(s.nQG,{className:"h-4 w-4"})})})});t.displayName=n.fC.displayName},46346:function(e,l,i){"use strict";i.d(l,{B:function(){return t},x:function(){return r}});var a=i(27573),o=i(7653),n=i(86705),s=i(18580);let r=o.forwardRef((e,l)=>{let{className:i,children:o,...r}=e;return(0,a.jsxs)(n.fC,{ref:l,className:(0,s.cn)("relative overflow-hidden",i),...r,children:[(0,a.jsx)(n.l_,{className:"h-full w-full rounded-[inherit]",children:o}),(0,a.jsx)(t,{}),(0,a.jsx)(n.Ns,{})]})});r.displayName=n.fC.displayName;let t=o.forwardRef((e,l)=>{let{className:i,orientation:o="vertical",...r}=e;return(0,a.jsx)(n.gb,{ref:l,orientation:o,className:(0,s.cn)("flex touch-none select-none transition-colors","vertical"===o&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===o&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",i),...r,children:(0,a.jsx)(n.q4,{className:"relative flex-1 rounded-full bg-border"})})});t.displayName=n.gb.displayName},91894:function(e,l,i){"use strict";var a=i(27573),o=i(7653),n=i(412),s=i(33597),r=i(36531);function t(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6"})})}function d(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m18 15-6-6-6 6"})})}l.Z=()=>{let e=(0,n.v9)(e=>e.uploadFiles.uploadFilesLoadedValues||[]),[l,i]=(0,o.useState)(!1),[v,c]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{0===e.length||v||i(!0)},[e,v]),(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.z,{variant:"secondary",onClick:()=>{i(!l),c(!0)},children:["Upload Artifact",l?(0,a.jsx)(d,{className:"ml-2 h-4 w-4"}):(0,a.jsx)(t,{className:"ml-2 h-4 w-4"})]}),(l||!v&&0!==e.length)&&(0,a.jsx)("div",{className:"col-span-full mt-2",children:(0,a.jsx)(s.Z,{})})]})}},55623:function(e){"use strict";e.exports=["str","string","bool","select","boolean","text-area","multi-select","multi-str","multi-checkbox","complex","int","json","code"]},13271:function(e,l,i){"use strict";let a=i(36509),o=i(53971),n=i(33181),s=i(55623);e.exports={tailwindConfig:a,postcssConfig:o,nextBaseConfig:n,defaultFormTypes:s}},33181:function(e){"use strict";e.exports={output:"export",reactStrictMode:!1,eslint:{ignoreDuringBuilds:!0},swcMinify:!0,headers:async()=>[{source:"/api/:path*",headers:[{key:"Access-Control-Allow-Credentials",value:"true"},{key:"Access-Control-Allow-Origin",value:"*"},{key:"Access-Control-Allow-Methods",value:"GET,DELETE,PATCH,POST,PUT"},{key:"Access-Control-Allow-Headers",value:"X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version"}]}],assetPrefix:void 0,experimental:{missingSuspenseWithCSRBailout:!1,proxyTimeout:36e4},redirects:async()=>[{source:"/",destination:"/webui",permanent:!0}],rewrites:async()=>[{source:"/webui/apiserver/:path*",destination:"".concat("","/:path*")},{source:"/webui/restapi/:path*",destination:"".concat("http://localhost:8000","/:path*")},{source:"/webui_api/:path*",destination:"/api/:path*"}]}},53971:function(e){"use strict";e.exports={plugins:{tailwindcss:{},autoprefixer:{}}}},36509:function(e,l,i){"use strict";e.exports={darkMode:["class"],content:["./pages/**/*.{js,ts,jsx,tsx,mdx}","./components/**/*.{js,ts,jsx,tsx,mdx}","./app/**/*.{js,ts,jsx,tsx,mdx}","./src/**/*.{js,ts,jsx,tsx,mdx}","../components/**/*.{js,ts,jsx,tsx,mdx}","../../components/**/*.{js,ts,jsx,tsx,mdx}","../../utils/**/*.{js,ts,jsx,tsx,mdx}"],prefix:"",theme:{container:{center:!0,padding:"2rem",screens:{"2xl":"1400px"}},extend:{colors:{indigo:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},supercolor:{50:"#ede7ff",100:"#d2befd",200:"#b692fc",300:"#9a67ea",400:"#7f3dfd",500:"#7628f8",600:"#5b0cb8",700:"#4c0a91",800:"#3e086b",900:"#32074f"},border:"hsl(var(--border))",input:"hsl(var(--input))",ring:"hsl(var(--ring))",background:"hsl(var(--background))",backgroundImage:{"gradient-radial":"radial-gradient(var(--tw-gradient-stops))","gradient-conic":"conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))"},foreground:"hsl(var(--foreground))",primary:{DEFAULT:"hsl(var(--primary))",foreground:"hsl(var(--primary-foreground))"},secondary:{DEFAULT:"hsl(var(--secondary))",foreground:"hsl(var(--secondary-foreground))"},destructive:{DEFAULT:"hsl(var(--destructive))",foreground:"hsl(var(--destructive-foreground))"},muted:{DEFAULT:"hsl(var(--muted))",foreground:"hsl(var(--muted-foreground))"},accent:{DEFAULT:"hsl(var(--accent))",foreground:"hsl(var(--accent-foreground))"},popover:{DEFAULT:"hsl(var(--popover))",foreground:"hsl(var(--popover-foreground))"},card:{DEFAULT:"hsl(var(--card))",foreground:"hsl(var(--card-foreground))"}},borderRadius:{lg:"var(--radius)",md:"calc(var(--radius) - 2px)",sm:"calc(var(--radius) - 4px)"},keyframes:{"accordion-down":{from:{height:"0"},to:{height:"var(--radix-accordion-content-height)"}},"accordion-up":{from:{height:"var(--radix-accordion-content-height)"},to:{height:"0"}}},animation:{"accordion-down":"accordion-down 0.2s ease-out","accordion-up":"accordion-up 0.2s ease-out"}}},plugins:[i(4821),i(58173)]}}},function(e){e.O(0,[5458,7441,3296,8320,8374,3908,5383,6340,384,9115,3406,8113,1409,9275,935,2895,5006,1293,1528,1744],function(){return e(e.s=69386)}),_N_E=e.O()}]);